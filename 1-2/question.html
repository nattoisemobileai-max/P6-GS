<!DOCTYPE html>
<html lang="zh-Hant">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Âπ≥ÂÆâÊòØÁ¶èÔºöÂÆâÂÖ®Ê∏¨Ë©¶ÊåëÊà∞</title>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+TC:wght@500;700;900&display=swap" rel="stylesheet">
    <style>
        :root {
            --duo-green: #58cc02;
            --duo-dark-green: #46a302;
            --duo-blue: #1cb0f6;
            --duo-red: #ff4b4b;
            --duo-gray: #afafaf;
            --duo-light-gray: #e5e5e5;
            --text-main: #4b4b4b;
        }

        body {
            font-family: 'Noto Sans TC', sans-serif;
            margin: 0;
            background-color: #fff;
            color: var(--text-main);
            display: flex;
            flex-direction: column;
            align-items: center;
            min-height: 100vh;
        }

        /* È†ÇÈÉ®ÈÄ≤Â∫¶Ê¢ù */
        .nav-bar {
            width: 100%;
            max-width: 600px;
            padding: 20px;
            display: flex;
            align-items: center;
            gap: 15px;
            box-sizing: border-box;
        }

        .progress-rail {
            flex-grow: 1;
            height: 16px;
            background-color: var(--duo-light-gray);
            border-radius: 10px;
            position: relative;
        }

        .progress-fill {
            position: absolute;
            left: 0;
            top: 0;
            width: 0%;
            height: 100%;
            background-color: var(--duo-green);
            border-radius: 10px;
            transition: width 0.3s ease;
        }

        /* Â∞èÁØÄÊ®ôÈ°å */
        .section-title {
            width: 100%;
            max-width: 600px;
            padding: 10px 20px;
            background-color: #f0f9ff;
            color: var(--duo-blue);
            font-weight: 700;
            font-size: 1.1em;
            margin-top: 10px;
            border-left: 4px solid var(--duo-blue);
        }

        /* ‰∏ªÈ°åÂÖßÂÆπ */
        .content {
            width: 90%;
            max-width: 600px;
            margin-top: 20px;
            flex-grow: 1;
        }

        .speech-bubble {
            border: 2px solid var(--duo-light-gray);
            border-radius: 15px;
            padding: 20px;
            font-size: 1.3em;
            font-weight: 700;
            margin-bottom: 30px;
            position: relative;
            background-color: white;
        }

        .options-list {
            display: grid;
            gap: 12px;
        }

        .option-item {
            border: 2px solid var(--duo-light-gray);
            border-bottom-width: 4px;
            border-radius: 15px;
            padding: 15px 20px;
            font-size: 1.1em;
            font-weight: 500;
            cursor: pointer;
            transition: 0.1s;
            background-color: white;
        }

        .option-item:hover { background-color: #f7f7f7; }
        .option-item.active {
            border-color: var(--duo-blue);
            background-color: #ddf4ff;
            color: var(--text-main);
        }
        
        .option-item.correct {
            border-color: var(--duo-green);
            background-color: #e8ffd8;
            color: var(--text-main);
        }
        
        .option-item.wrong {
            border-color: var(--duo-red);
            background-color: #ffeaea;
            color: var(--text-main);
        }

        /* Â∫ïÈÉ®Êìç‰ΩúÊ¨Ñ */
        .footer {
            width: 100%;
            padding: 20px;
            display: flex;
            justify-content: center;
            border-top: 2px solid var(--duo-light-gray);
            background: #fff;
        }

        .btn-action {
            width: 100%;
            max-width: 600px;
            padding: 16px;
            border-radius: 15px;
            font-size: 1.1em;
            font-weight: 900;
            cursor: pointer;
            border: none;
            background-color: var(--duo-green);
            color: white;
            box-shadow: 0 5px 0 var(--duo-dark-green);
            transition: all 0.2s;
        }

        .btn-action:hover {
            transform: translateY(-2px);
            box-shadow: 0 7px 0 var(--duo-dark-green);
        }

        .btn-action:active {
            transform: translateY(3px);
            box-shadow: 0 2px 0 var(--duo-dark-green);
        }

        .btn-action:disabled {
            background-color: var(--duo-light-gray);
            color: var(--duo-gray);
            box-shadow: 0 5px 0 #ccc;
            cursor: not-allowed;
            transform: none;
        }

        /* ÂèçÈ•ãÊªëÂãïÂ±§ */
        #feedback-tray {
            position: fixed;
            bottom: -350px;
            left: 0;
            width: 100%;
            padding: 30px;
            box-sizing: border-box;
            transition: bottom 0.3s ease;
            z-index: 100;
        }

        .tray-correct { 
            background-color: #d7ffb8; 
            color: #58a700; 
            border-top: 4px solid #58a700;
        }
        
        .tray-wrong { 
            background-color: #ffdfe0; 
            color: #ea2b2b; 
            border-top: 4px solid #ea2b2b;
        }

        .btn-next {
            background-color: currentColor;
            filter: brightness(0.8);
            color: white;
            border: none;
            padding: 12px 30px;
            border-radius: 12px;
            font-weight: 900;
            cursor: pointer;
            transition: all 0.2s;
        }
        
        .btn-next:hover {
            filter: brightness(1);
            transform: scale(1.05);
        }

        #final-screen { 
            display: none; 
            text-align: center; 
            margin-top: 100px;
            padding: 20px;
        }
        
        .score-display {
            font-size: 3em;
            font-weight: 900;
            color: var(--duo-blue);
            margin: 20px 0;
        }
        
        .current-section {
            color: var(--duo-blue);
            font-weight: 700;
            font-size: 1.2em;
            margin-bottom: 10px;
        }
    </style>
</head>
<body>

    <div class="nav-bar">
        <span style="color:var(--duo-gray); font-size: 24px; cursor: pointer;" onclick="location.reload()">‚úï</span>
        <div class="progress-rail">
            <div class="progress-fill" id="pb"></div>
        </div>
    </div>

    <div id="section-title" class="section-title"></div>

    <div class="content" id="quiz-ui">
        <div class="speech-bubble" id="q-text">ü¶â Ê≠£Âú®ÁÇ∫‰Ω†Ê∫ñÂÇôÈ°åÁõÆ...</div>
        <div class="options-list" id="opt-list"></div>
    </div>

    <div id="final-screen">
        <h1 style="font-size: 4em;">üèÜ</h1>
        <h2 id="final-msg">‰Ω†ÂÆåÊàê‰∫ÜÊâÄÊúâÊåëÊà∞ÔºÅ</h2>
        <div class="score-display" id="final-score"></div>
        <p style="color: var(--duo-gray); margin-bottom: 30px;">ÊÑüË¨ù‰Ω†Â≠∏ÁøíÂÆâÂÖ®Áü•Ë≠òÔºåÁ•ù‰Ω†Âπ≥ÂÆâÔºÅ</p>
        <button class="btn-action" onclick="location.reload()">ÈáçÊñ∞ÈñãÂßãÊåëÊà∞</button>
    </div>

    <div class="footer" id="footer-bar">
        <button class="btn-action" id="check-btn" disabled onclick="handleCheck()">Ê™¢Êü•Á≠îÊ°à</button>
    </div>

    <div id="feedback-tray">
        <div style="max-width: 600px; margin: 0 auto; display: flex; justify-content: space-between; align-items: center;">
            <div>
                <h2 id="tray-title" style="margin:0">ÂæàÂ•ΩÔºÅ</h2>
                <p id="tray-desc" style="margin: 5px 0 0; font-weight: 500;"></p>
            </div>
            <button class="btn-next" onclick="loadNext()">ÁπºÁ∫å</button>
        </div>
    </div>

<script>
    // ‰ΩøÁî®Êèê‰æõÁöÑ JSON Êï∏Êìö
    const quizDatabase = {
        "questions": [
            {
                "section": "Â∞èÁØÄ‰∏ÄÔºöÂÆ∂Â±ÖÂç±Ê©üÔºàÁÅ´Ë≠¶ËàáÊ∞£È´îÔºâ",
                "id": 1,
                "q": "Q1. ÁÅ´Ë≠¶ÁôºÁîüÊôÇÔºåËµ∞ÂªäÊøÉÁÖôÊªø‰ΩàÔºåÊáâÁïôÂú®ÂÆ∂‰∏≠ÂÅöÁ¨¨‰∏Ä‰ª∂‰∫ãÔºü",
                "o": ["A. Á´ãÂç≥Áî®ÂçáÈôçÊ©üÈÄÉÁîü", "B. Èóú‰∏äÂ§ßÈñÄÂØÜÂ∞ÅÈñÄÁ∏´", "C. ÊâìÈñãÊâÄÊúâÁ™óÊà∂", "D. ÁπºÁ∫å‰ΩøÁî®ÈõªÂô®"],
                "a": 1,
                "d": "Ê≠£Á¢∫Á≠îÊ°àÊòØ B„ÄÇÁî®ËÜ†Á¥ô/ÊøïÊØõÂ∑æÂØÜÂ∞ÅÈñÄÁ∏´ÈöîÁµïÁÖôÁÅ´„ÄÇÔºàÊïôÊùêÁ¨¨12È†ÅÔºâ"
            },
            {
                "section": "Â∞èÁØÄ‰∏ÄÔºöÂÆ∂Â±ÖÂç±Ê©üÔºàÁÅ´Ë≠¶ËàáÊ∞£È´îÔºâ",
                "id": 2,
                "q": "Q2. ÁÅ´Ë≠¶ÈÄÉÁîü„Äé‰∏âÂØ∂„Äè‰∏çÂåÖÊã¨‰ª•‰∏ãÂì™È†ÖÔºü",
                "o": ["A. ÊâãÊèêÈõªË©±", "B. ÈñÄÂåô", "C. Èå¢ÂåÖ", "D. ÊøïÊØõÂ∑æ"],
                "a": 2,
                "d": "Ê≠£Á¢∫Á≠îÊ°àÊòØ C„ÄÇ‰∏âÂØ∂ÔºöÊâãÊèêÈõªË©±„ÄÅÈñÄÂåô„ÄÅÊøïÊØõÂ∑æ„ÄÇÔºàÊïôÊùêÁ¨¨12È†ÅÔºâ"
            },
            {
                "section": "Â∞èÁØÄ‰∏ÄÔºöÂÆ∂Â±ÖÂç±Ê©üÔºàÁÅ´Ë≠¶ËàáÊ∞£È´îÔºâ",
                "id": 3,
                "q": "Q3. ÁïôÂú®ÁÅ´Ë≠¶ÂñÆ‰ΩçÂÖßÊ±ÇÊïëÔºåÊáâËá¥ÈõªÂì™ÂÄãÈõªË©±Ôºü",
                "o": ["A. 1823", "B. 999", "C. 110", "D. 995"],
                "a": 1,
                "d": "Ê≠£Á¢∫Á≠îÊ°àÊòØ B„ÄÇ999ÁÅ´Ë≠¶Ê±ÇÊïë„ÄÇÔºàÊïôÊùêÁ¨¨12È†ÅÔºâ"
            },
            {
                "section": "Â∞èÁØÄ‰∏ÄÔºöÂÆ∂Â±ÖÂç±Ê©üÔºàÁÅ´Ë≠¶ËàáÊ∞£È´îÔºâ",
                "id": 4,
                "q": "Q4. Ê∞£È´îÊ¥©ÊºèÊôÇÔºåÁ¨¨‰∏ÄÊ≠•ÊáâÂÅö‰ªÄÈ∫ºÔºü",
                "o": ["A. ÈñãÁáàÊ™¢Êü•", "B. ÊâìÈñãÁ™óÊà∂", "C. ‰ΩøÁî®ÈõªË©±Â†±Ë≠¶", "D. ÈñãÊäΩÊ∞£Êâá"],
                "a": 1,
                "d": "Ê≠£Á¢∫Á≠îÊ°àÊòØ B„ÄÇÊâìÈñãÁ™óÊà∂Êï£Ê∞£ÔºåÁÑ∂ÂæåÈóúÁ∏ΩÊé£„ÄÇÔºàÊïôÊùêÁ¨¨13È†ÅÔºâ"
            },
            {
                "section": "Â∞èÁØÄ‰∏ÄÔºöÂÆ∂Â±ÖÂç±Ê©üÔºàÁÅ´Ë≠¶ËàáÊ∞£È´îÔºâ",
                "id": 5,
                "q": "Q5. Ê∞£È´îÊ¥©ÊºèÊôÇÁµïÂ∞çÁ¶ÅÊ≠¢‰ªÄÈ∫ºÔºü",
                "o": ["A. Èóú‰æõÊ∞£Á∏ΩÊé£", "B. ÈñãÈóúÈõªÂô®ÈõªÊé£", "C. ÈÄöÁü•ÈÑ∞Â±Ö", "D. Âà∞ÂÆâÂÖ®Âú∞ÊñπÂ†±Ë≠¶"],
                "a": 1,
                "d": "Ê≠£Á¢∫Á≠îÊ°àÊòØ B„ÄÇÈñãÈóúÈõªÂô®Áî¢ÁîüÁÅ´Ëä±ÂºïÁàÜÁÇ∏„ÄÇÔºàÊïôÊùêÁ¨¨13È†ÅÔºâ"
            },
            {
                "section": "Â∞èÁØÄ‰∏ÄÔºöÂÆ∂Â±ÖÂç±Ê©üÔºàÁÅ´Ë≠¶ËàáÊ∞£È´îÔºâ",
                "id": 6,
                "q": "Q6. ÁÅ´Ë≠¶ÊøÉÁÖôÊôÇÊáâÂ¶Ç‰ΩïÈÄÉÁîüÔºü",
                "o": ["A. Áõ¥Á´ãÂ•îË∑ë", "B. ‰ºèÂú∞Áà¨Ë°å", "C. Áî®ÊØõÂ∑æÊçÇÂè£", "D. ‰ª•‰∏äB„ÄÅCÈÉΩÂ∞ç"],
                "a": 3,
                "d": "Ê≠£Á¢∫Á≠îÊ°àÊòØ D„ÄÇ‰ºèÂú∞Â∞ëÁÖôÔºåÁî®ÊøïÊØõÂ∑æÊçÇÂè£„ÄÇÔºàÊïôÊùêÁ¨¨12È†ÅÔºâ"
            },
            {
                "section": "Â∞èÁØÄ‰∏ÄÔºöÂÆ∂Â±ÖÂç±Ê©üÔºàÁÅ´Ë≠¶ËàáÊ∞£È´îÔºâ",
                "id": 7,
                "q": "Q7. È†êÈò≤ÁÅ´Ë≠¶Êáâ‰øùÊåÅ‰ªÄÈ∫ºÊö¢ÈÄöÔºü",
                "o": ["A. ÂªöÊàøÊ∞¥ÊßΩ", "B. ÈÄÉÁîüËµ∞ÈÅì", "C. ÈõªÂô®ÊèíÈ†≠", "D. Á™óÊà∂Á∞æÂπï"],
                "a": 1,
                "d": "Ê≠£Á¢∫Á≠îÊ°àÊòØ B„ÄÇ‰øùÊåÅËµ∞ÈÅìÊö¢ÈÄöÔºåÈò≤ÁÅ´ÈñÄÂ∏∏Èóú„ÄÇÔºàÊïôÊùêÁ¨¨12È†ÅÔºâ"
            },
            {
                "section": "Â∞èÁØÄ‰∏ÄÔºöÂÆ∂Â±ÖÂç±Ê©üÔºàÁÅ´Ë≠¶ËàáÊ∞£È´îÔºâ",
                "id": 8,
                "q": "Q8. Ê∞£È´îÊ¥©ÊºèÈ†êÈò≤Êé™ÊñΩÊòØÔºü",
                "o": ["A. ÊØèÂ§©Ê™¢Êü•ÂñâÁÆ°", "B. ÂÆöÊúüÂ∞àÊ•≠Ê™¢Êü•", "C. Áî®ÁÅ´Ê∏¨Ë©¶Ê¥©Êºè", "D. Â¢ûÂä†Ê∞£Â£ì"],
                "a": 1,
                "d": "Ê≠£Á¢∫Á≠îÊ°àÊòØ B„ÄÇËÅòË´ãÂêàË≥áÊ†º‰∫∫Âì°ÂÆöÊúüÊ™¢Êü•„ÄÇÔºàÊïôÊùêÁ¨¨13È†ÅÔºâ"
            },
            {
                "section": "Â∞èÁØÄ‰∏ÄÔºöÂÆ∂Â±ÖÂç±Ê©üÔºàÁÅ´Ë≠¶ËàáÊ∞£È´îÔºâ",
                "id": 9,
                "q": "Q9. ÁÅ´Ë≠¶ÊôÇÊ∂àÈò≤Âì°Â¶Ç‰ΩïÊâæÂà∞‰Ω†Ôºü",
                "o": ["A. ÊâìÈõªË©±", "B. ÊèÆÂãïÊØõÂ∑æ", "C. ÁôºÁ∞°Ë®ä", "D. Êï≤Á™óÊà∂"],
                "a": 1,
                "d": "Ê≠£Á¢∫Á≠îÊ°àÊòØ B„ÄÇÁ™óÈÇä/Èú≤Âè∞ÊèÆÊØõÂ∑æÊ®ôÁ§∫‰ΩçÁΩÆ„ÄÇÔºàÊïôÊùêÁ¨¨12È†ÅÔºâ"
            },
            {
                "section": "Â∞èÁØÄ‰∏ÄÔºöÂÆ∂Â±ÖÂç±Ê©üÔºàÁÅ´Ë≠¶ËàáÊ∞£È´îÔºâ",
                "id": 10,
                "q": "Q10. ÁÅ´Ë≠¶ÈÄÉÁîüÂàáÂãø‰ΩøÁî®‰ªÄÈ∫ºÔºü",
                "o": ["A. Ê®ìÊ¢Ø", "B. ÂçáÈôçÊ©ü", "C. ÊøïÊØõÂ∑æ", "D. ÊâãÊèêÈõªË©±"],
                "a": 1,
                "d": "Ê≠£Á¢∫Á≠îÊ°àÊòØ B„ÄÇÂçáÈôçÊ©üÂèØËÉΩÊïÖÈöúÂÅúÈßõ„ÄÇÔºàÊïôÊùêÁ¨¨12È†ÅÔºâ"
            },
            {
                "section": "Â∞èÁØÄ‰∫åÔºöÈÉäÈÅäËàáÊÄ•Êïë",
                "id": 11,
                "q": "Q11. ÁÜ±Ë°∞Á´≠Á¨¨‰∏ÄÊ≠•ËôïÁêÜÔºü",
                "o": ["A. Êä¨Èô∞Ê∂ºËôïË∫∫‰∏ã", "B. ÂñùÁÜ±Ëå∂", "C. Ë∑ëÊ≠•Ê¥ªÂãï", "D. ËìãË¢´Â≠ê"],
                "a": 0,
                "d": "Ê≠£Á¢∫Á≠îÊ°àÊòØ A„ÄÇÁßªÈô∞Ê∂ºÈÄöÈ¢®ËôïË∫∫‰∏ã„ÄÇÔºàÊïôÊùêÁ¨¨14È†ÅÔºâ"
            },
            {
                "section": "Â∞èÁØÄ‰∫åÔºöÈÉäÈÅäËàáÊÄ•Êïë",
                "id": 12,
                "q": "Q12. È†êÈò≤ÁÜ±Ë°∞Á´≠ÊáâÂÅö‰ªÄÈ∫ºÔºü",
                "o": ["A. Á©øÊ∑±Ëâ≤ÂéöË°£", "B. ÂÆöÊôÇË£úÊ∞¥", "C. È£üÁî®ÈáéÊûú", "D. ÁáíÁÉ§‰∏çÊªÖÁÅ´"],
                "a": 1,
                "d": "Ê≠£Á¢∫Á≠îÊ°àÊòØ B„ÄÇÂÖÖË∂≥È£üÊ∞¥„ÄÅÊ∑∫Ëâ≤ÈÄèÊ∞£Ë°£„ÄÇÔºàÊïôÊùêÁ¨¨14È†ÅÔºâ"
            },
            {
                "section": "Â∞èÁØÄ‰∫åÔºöÈÉäÈÅäËàáÊÄ•Êïë",
                "id": 13,
                "q": "Q13. ÈÉäÈÅäÁáíÁÉ§ÂæåÂøÖÈ†àÔºü",
                "o": ["A. Á´ãÂç≥Èõ¢Èñã", "B. Áî®Ê∞¥Ê∑ãÁÜÑ", "C. ËìãÊ≤ôÊé©Âüã", "D. ‰ª•‰∏äÁöÜÈåØ"],
                "a": 1,
                "d": "Ê≠£Á¢∫Á≠îÊ°àÊòØ B„ÄÇÂæπÂ∫ïÁî®Ê∞¥Ê∑ãÁÜÑÁÅ´Á®Æ„ÄÇÔºàÊïôÊùêÁ¨¨14È†ÅÔºâ"
            },
            {
                "section": "Â∞èÁØÄ‰∫åÔºöÈÉäÈÅäËàáÊÄ•Êïë",
                "id": 14,
                "q": "Q14. ÁÜ±Ë°∞Á´≠ÊáâÂ¢äÈ´ò‰ªÄÈ∫ºÔºü",
                "o": ["A. È†≠ÈÉ®", "B. ÈõôËÖø", "C. ÊâãËáÇ", "D. ËÖ∞ÈÉ®"],
                "a": 1,
                "d": "Ê≠£Á¢∫Á≠îÊ°àÊòØ B„ÄÇÂ¢äÈ´òÈõôËÖøÂä©Ë°ÄÊµÅÈ†≠ÈÉ®„ÄÇÔºàÊïôÊùêÁ¨¨14È†ÅÔºâ"
            },
            {
                "section": "Â∞èÁØÄ‰∫åÔºöÈÉäÈÅäËàáÊÄ•Êïë",
                "id": 15,
                "q": "Q15. ÈÉäÈÅäÂâçÊáâÈÅøÂÖç‰ªÄÈ∫ºÔºü",
                "o": ["A. Â∏∂Ë∂≥Ê∞¥", "B. È£üÁî®ÈáéÁîüÊûúËèå", "C. Á©øÈÅãÂãïÈûã", "D. ËßÄÂØüÁí∞Â¢É"],
                "a": 1,
                "d": "Ê≠£Á¢∫Á≠îÊ°àÊòØ B„ÄÇÂàáÂãøÊé°ÊëòÈ£üÁî®ÈáéÊûú„ÄÇÔºàÊïôÊùêÁ¨¨14È†ÅÔºâ"
            },
            {
                "section": "Â∞èÁØÄ‰∏âÔºöÈÅìË∑ØÂÆâÂÖ®ËàáÊïëÊè¥",
                "id": 16,
                "q": "Q16. ÈÅéÈ¶¨Ë∑ØÊúÄÂÆâÂÖ®ÊñπÂºèÔºü",
                "o": ["A. Ë°ùÁ¥ÖÁáà", "B. Ë°å‰∫∫Â§©Ê©ã", "C. Êà¥ËÄ≥Ê©ü", "D. Áõ¥Ë°å‰∏çÁúã"],
                "a": 1,
                "d": "Ê≠£Á¢∫Á≠îÊ°àÊòØ B„ÄÇ‰ΩøÁî®Â§©Ê©ã/ÊñëÈ¶¨Á∑ö„ÄÇÔºàÊïôÊùêÁ¨¨16È†ÅÔºâ"
            },
            {
                "section": "Â∞èÁØÄ‰∏âÔºöÈÅìË∑ØÂÆâÂÖ®ËàáÊïëÊè¥",
                "id": 17,
                "q": "Q17. Â∑¥Â£´‰∏äÊáâÊè°Á∑äÔºü",
                "o": ["A. ÊâãÊ©ü", "B. Êâ∂Êâã", "C. ËÉåÂåÖ", "D. ÈñÄÊää"],
                "a": 1,
                "d": "Ê≠£Á¢∫Á≠îÊ°àÊòØ B„ÄÇÊè°Á∑äÊâ∂ÊâãÁ¢∫‰øùÂÆâÂÖ®„ÄÇÔºàÊïôÊùêÁ¨¨16È†ÅÔºâ"
            },
            {
                "section": "Â∞èÁØÄ‰∏âÔºöÈÅìË∑ØÂÆâÂÖ®ËàáÊïëÊè¥",
                "id": 18,
                "q": "Q18. ÊïëÊè¥ÈõªË©±999ÊáâÊèê‰æõ‰ªÄÈ∫ºÔºü",
                "o": ["A. Ê∫ñÁ¢∫Âú∞Èªû", "B. ÂøÉÊÉÖÊèèËø∞", "C. ÂØµÁâ©ÂêçÂ≠ó", "D. ‰ª•‰∏äÁöÜÈùû"],
                "a": 0,
                "d": "Ê≠£Á¢∫Á≠îÊ°àÊòØ A„ÄÇÂú∞Èªû„ÄÅ‰∫ã‰ª∂„ÄÅÂÇ∑ËÄÖ‰∫∫Êï∏„ÄÅÂÇ∑Âã¢„ÄÇÔºàÊïôÊùêÁ¨¨17È†ÅÔºâ"
            },
            {
                "section": "Â∞èÁØÄ‰∏âÔºöÈÅìË∑ØÂÆâÂÖ®ËàáÊïëÊè¥",
                "id": 19,
                "q": "Q19. CAS‰∏ªË¶ÅÊïëÊè¥‰ªÄÈ∫ºÔºü",
                "o": ["A. ÈÜ´Èô¢Ê≤ªÁôÇ", "B. Â±±Â∂∫ÊêúÁ¥¢", "C. ÁÅ´Ë≠¶ÊªÖÁÅ´", "D. ‰∫§ÈÄöÊåáÊèÆ"],
                "a": 1,
                "d": "Ê≠£Á¢∫Á≠îÊ°àÊòØ B„ÄÇÊ∞ëÁúæÂÆâÂÖ®ÊúçÂãôÈöäÊîØÊè¥Â§©ÁÅΩ„ÄÇÔºàÊïôÊùêÁ¨¨17È†ÅÔºâ"
            },
            {
                "section": "Â∞èÁØÄ‰∏âÔºöÈÅìË∑ØÂÆâÂÖ®ËàáÊïëÊè¥",
                "id": 20,
                "q": "Q20. ÁßÅÂÆ∂ËªäÂøÖÈ†àÂÅö‰ªÄÈ∫ºÔºü",
                "o": ["A. ÈñãÁ™óËÅΩÊ≠å", "B. Êâ£ÂÆâÂÖ®Â∏∂", "C. Á´ô‰∏äÂ±§", "D. ‰∏çÊè°Êâ∂Êâã"],
                "a": 1,
                "d": "Ê≠£Á¢∫Á≠îÊ°àÊòØ B„ÄÇÁßÅÂÆ∂Ëªä/ÁöÑÂ£´ÂøÖÈ†àÊâ£ÂÆâÂÖ®Â∏∂„ÄÇÔºàÊïôÊùêÁ¨¨16È†ÅÔºâ"
            },
            {
                "section": "Â∞èÁØÄ‰∏âÔºöÈÅìË∑ØÂÆâÂÖ®ËàáÊïëÊè¥",
                "id": 21,
                "q": "Q21. Êø´Áî®999ÊúÉÈÄ†Êàê‰ªÄÈ∫ºÔºü",
                "o": ["A. Êõ¥Âø´ÊïëÊè¥", "B. Âª∂Ë™§ÁúüÊ≠£ÊÄ•Áóá", "C. ÂÖçË≤ªÊúçÂãô", "D. ÁÑ°ÂΩ±Èüø"],
                "a": 1,
                "d": "Ê≠£Á¢∫Á≠îÊ°àÊòØ B„ÄÇÂª∂Ë™§ÁîüÂëΩÂç±ÊÄ•ËÄÖÊïëÊè¥„ÄÇÔºàÊïôÊùêÁ¨¨17È†ÅÔºâ"
            }
        ]
    };

    let idx = 0;
    let score = 0;
    let currentPick = null;
    let currentSection = "";

    function render() {
        const item = quizDatabase.questions[idx];
        document.getElementById('q-text').innerText = item.q;
        const list = document.getElementById('opt-list');
        list.innerHTML = '';
        
        // Êõ¥Êñ∞Â∞èÁØÄÊ®ôÈ°å
        if (item.section !== currentSection) {
            currentSection = item.section;
            document.getElementById('section-title').innerText = currentSection;
            document.getElementById('section-title').style.display = 'block';
        }
        
        item.o.forEach((text, i) => {
            const div = document.createElement('div');
            div.className = 'option-item';
            div.innerText = text;
            div.onclick = () => {
                if (document.getElementById('check-btn').disabled) return; // Â∑≤Ê™¢Êü•Á≠îÊ°àÊôÇ‰∏çÂèØÈÅ∏
                
                currentPick = i;
                document.querySelectorAll('.option-item').forEach(el => {
                    el.classList.remove('active');
                });
                div.classList.add('active');
                document.getElementById('check-btn').disabled = false;
            };
            list.appendChild(div);
        });
        
        // Êõ¥Êñ∞ÈÄ≤Â∫¶Ê¢ù
        const progressPercent = ((idx + 1) / quizDatabase.questions.length) * 100;
        document.getElementById('pb').style.width = `${progressPercent}%`;
        
        // ÈáçÁΩÆÊ™¢Êü•ÊåâÈàïÁãÄÊÖã
        document.getElementById('check-btn').disabled = true;
        currentPick = null;
    }

    function handleCheck() {
        const item = quizDatabase.questions[idx];
        const tray = document.getElementById('feedback-tray');
        const title = document.getElementById('tray-title');
        const desc = document.getElementById('tray-desc');
        
        // È°ØÁ§∫Ê≠£Á¢∫/ÈåØË™§Á≠îÊ°àÁöÑË¶ñË¶∫ÂèçÈ•ã
        const options = document.querySelectorAll('.option-item');
        options.forEach((option, i) => {
            if (i === item.a) {
                option.classList.add('correct');
            } else if (i === currentPick && currentPick !== item.a) {
                option.classList.add('wrong');
            }
        });

        if (currentPick === item.a) {
            score++;
            tray.className = 'tray-correct';
            title.innerText = 'Á≠îÂ∞ç‰∫ÜÔºÅ';
        } else {
            tray.className = 'tray-wrong';
            title.innerText = 'ÂÜçÊé•ÂÜçÂé≤ÔºÅ';
        }
        
        desc.innerText = item.d;
        tray.style.bottom = '0';
        document.getElementById('check-btn').disabled = true;
        
        // Á¶ÅÊ≠¢ÂÜçÊ¨°ÈÅ∏Êìá
        options.forEach(option => {
            option.style.pointerEvents = 'none';
        });
    }

    function loadNext() {
        document.getElementById('feedback-tray').style.bottom = '-350px';
        idx++;
        
        if (idx < quizDatabase.questions.length) {
            render();
        } else {
            // È°ØÁ§∫ÊúÄÁµÇÁï´Èù¢
            document.getElementById('quiz-ui').style.display = 'none';
            document.getElementById('footer-bar').style.display = 'none';
            document.getElementById('section-title').style.display = 'none';
            document.getElementById('pb').style.width = '100%';
            document.getElementById('final-screen').style.display = 'block';
            
            const scorePercent = Math.round((score / quizDatabase.questions.length) * 100);
            let message = "‰Ω†ÂÆåÊàê‰∫ÜÊâÄÊúâÊåëÊà∞ÔºÅ";
            
            if (scorePercent === 100) {
                message = "ÂÆåÁæéÔºÅ‰Ω†ÊòØÂÆâÂÖ®Áü•Ë≠òÈÅî‰∫∫ÔºÅ";
            } else if (scorePercent >= 80) {
                message = "ÂÑ™ÁßÄÔºÅ‰Ω†Â∞çÂÆâÂÖ®Áü•Ë≠òÊéåÊè°ÂæóÂæàÂ•ΩÔºÅ";
            } else if (scorePercent >= 60) {
                message = "‰∏çÈåØÔºÅÁπºÁ∫åÂ≠∏ÁøíÊúÉÊõ¥ÂÆâÂÖ®ÔºÅ";
            } else {
                message = "ÂÜçË§áÁøí‰∏Ä‰∏ãÊúÉÊõ¥ÂÆâÂÖ®ÂñîÔºÅ";
            }
            
            document.getElementById('final-msg').innerText = message;
            document.getElementById('final-score').innerText = `${score} / ${quizDatabase.questions.length}`;
        }
    }

    // ÂàùÂßãÊ∏≤Êüì
    render();
    
    // Ê∑ªÂä†ÈçµÁõ§ÊîØÊè¥
    document.addEventListener('keydown', function(event) {
        if (event.key >= '1' && event.key <= '4') {
            const optionIndex = parseInt(event.key) - 1;
            const options = document.querySelectorAll('.option-item');
            if (optionIndex < options.length) {
                options[optionIndex].click();
            }
        } else if (event.key === 'Enter' && !document.getElementById('check-btn').disabled) {
            handleCheck();
        } else if (event.key === ' ' || event.key === 'ArrowRight') {
            const tray = document.getElementById('feedback-tray');
            if (tray.style.bottom === '0px') {
                loadNext();
            }
        }
    });
</script>
</body>
</html>